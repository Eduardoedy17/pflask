{% include 'dashboard/cabecalho.html' %}
{% include '/dashboard/menu.html' %}

<h1 class="mb-4">
  {% if turma %}
    Editar Turma
  {% else %}
    Cadastrar Turma
  {% endif %}
</h1>

<div class="row">
    <div class="col-12">
      <form action="/turma/salvar/{% if turma %}{{ turma[0] }}{% endif %}" method="POST">
  
        <div class="mb-3">
          <label for="semestre" class="form-label">Semestre</label>
          <input type="text" class="form-control" id="semestre" name="semestre" value="{% if turma %}{{ turma[1] }}{% endif %}" required>
        </div>
  
        <div class="mb-3">
          <label for="curso_id" class="form-label">Curso</label>
          <select class="form-select" id="curso_id" name="curso_id" required>
            <option value="" disabled {% if not turma %}selected{% endif %}>Selecione um curso...</option>
            {% for curso in cursos %}
                <option value="{{ curso[0] }}" {% if turma and turma[2] == curso[0] %}selected{% endif %}>
                    {{ curso[1] }}
                </option>
            {% endfor %}
          </select>
        </div>
  
        <div class="mb-3">
          <label for="professor_id" class="form-label">Professor</label>
          <select class="form-select" id="professor_id" name="professor_id" required>
            <option value="" disabled {% if not turma %}selected{% endif %}>Selecione um professor...</option>
            {% for professor in professores %}
                <option value="{{ professor[0] }}" {% if turma and turma[3] == professor[0] %}selected{% endif %}>
                    {{ professor[1] }}
                </option>
            {% endfor %}
          </select>
        </div>
  
        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-primary">
            {% if turma %}
                Atualizar
            {% else %}
                Salvar
            {% endif %}
          </button>
          <a href="/turma" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
    </div>
  </div>
  
{% include 'dashboard/rodape.html' %}